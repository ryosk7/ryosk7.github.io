<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>keyaki game</title>
    <style media="screen">
      #video-background,
      #video-overlay {
        position: fixed;
        top: 0;
        left: 0;
        min-width: 100%;
        min-height: 130%;
        width: auto;
        height: auto;
      }
      #video-background {
        z-index: -2;
      }
      #video-overlay {
        z-index: -1;
      }
      #firstcontent {
        background-color: black;
      }
      #keyaki-logo{
        color: white;
        z-index: -1;
        text-align: center;
        margin-top: 23%;
        font-size: 118px;
      }
    </style>
  </head>
  <body id="firstcontent">
    <h1 id="keyaki-logo">KEYAKIZAKA46</h1>
    <div id="secondcontent">
      <div id="video-background"></div>
      <div id="video-overlay"></div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>

      $('#secondcontent').hide();
      $(function(){
        /* 1.ロゴからコンテンツへの切替*/
        var keyakiLogo = $('#keyaki-logo');
        var secondCon = $('#secondcontent');
        keyakiLogo.hide().fadeIn(800, function(){
          setTimeout(function() {
            keyakiLogo.fadeOut(600);
          }, 2000);
        });
        setTimeout(function(){
          secondCon.fadeIn(600);
        }, 3400);
      });

      var ishimori = ['石森虹花','http://cdn.keyakizaka46.com/images/14/482/0340c7236b6cc08622a0bf7e93083/400_320_102400.jpg'];
      var imaizumi = ['今泉佑唯','http://cdn.keyakizaka46.com/images/14/47f/6e257fe479a4f6895d11d5eeca7a0/400_320_102400.jpg'];
      var uemura = ['上村莉菜','http://cdn.keyakizaka46.com/images/14/3b1/29b6814789f55d5b5a0bd2f294829/400_320_102400.jpg'];
      var oseki = ['尾関梨香	','http://cdn.keyakizaka46.com/images/14/52a/63d3afe3ef5a78c8539ffebaa5359/400_320_102400.jpg'];
      var oda = ['織田奈那	','http://cdn.keyakizaka46.com/images/14/84b/51d7fcb5f989e0c78dc3c2af8ae76/400_320_102400.jpg'];
      var koike = ['小池美波','http://cdn.keyakizaka46.com/images/14/088/87d3578a4b0675bf89e983b7bff19/400_320_102400.jpg'];
      var kobayashi = ['小林由依	','http://cdn.keyakizaka46.com/images/14/dcc/8dda6179149e285a931fd0b997251/400_320_102400.jpg'];
      var saito = ['齋藤冬優花	','http://cdn.keyakizaka46.com/images/14/382/785e8201a1e461ba72313536efdbc/400_320_102400.jpg'];
      var sato = ['佐藤詩織	','http://cdn.keyakizaka46.com/images/14/f14/8ca9ed644864fff8a77266a1d8f64/400_320_102400.jpg'];
      var shida = ['志田愛佳	','http://cdn.keyakizaka46.com/images/14/0a3/d961fc0d341318a23eb142fc9f59c/400_320_102400.jpg'];
      var sugai = ['菅井友香','http://cdn.keyakizaka46.com/images/14/0b7/2677dc91653d894a5c31915c8b14e/400_320_102400.jpg'];
      var suzumoto = ['鈴本美愉	','http://cdn.keyakizaka46.com/images/14/d9f/da49e3c7b90a644ea27d4584b5def/400_320_102400.jpg'];
      var nagasawa = ['長沢菜々香','http://cdn.keyakizaka46.com/images/14/c1d/cdf5622f7a2949f6cdd6c344066a9/400_320_102400.jpg'];
      var nagahama = ['長濱ねる','http://cdn.keyakizaka46.com/images/14/e07/0fb95fda319091b0b1e3108e6a0a5/400_320_102400.jpg'];
      var habu = ['土生瑞穂','http://cdn.keyakizaka46.com/images/14/6b8/8e85e92dfc6044edc011718727dff/400_320_102400.jpg'];
      var harada = ['原田葵','http://cdn.keyakizaka46.com/images/14/87e/b691f4fc0cdcd74af49ef1d81acb9/400_320_102400.jpg'];
      var hirate = ['平手友理奈','http://cdn.keyakizaka46.com/images/14/99d/eee9ab98609341d4743c4e0e57622/400_320_102400.jpg'];
      var moriya = ['守屋茜	','http://cdn.keyakizaka46.com/images/14/853/0940c7844818cb891306f3ef8f2fa/400_320_102400.jpg'];
      var yoneteni = ['米谷奈々未','http://cdn.keyakizaka46.com/images/14/853/0940c7844818cb891306f3ef8f2fa/400_320_102400.jpg'];
      var rika = ['渡辺梨加','http://cdn.keyakizaka46.com/images/14/eeb/23f672b0c99925d3d9495c67306f0/400_320_102400.jpg'];
      var risa = ['渡邉理佐','http://cdn.keyakizaka46.com/images/14/3d3/ad37a68c5f825bc52e6827fd1875f/400_320_102400.jpg'];

      var members = [ishimori,imaizumi,uemura,oseki,oda,koike,kobayashi,
                    saito,sato,shida,sugai,suzumoto,nagasawa,nagahama,
                    habu,harada,hirate,moriya,yoneteni,rika,risa];

      for(var i = members.length - 1; i > 0; i--){
        var r = Math.floor(Math.random() * (i + 1));
        var tmp = members[i];
        members[i] = members[r];
        members[r] = tmp;
      }

      for (var i = 0; i < 3; i++) {
        for (var j = 0; j < 7; j++) {
          console.log(members[0][0]);
          members.shift();
        }
      }

      // YouTube Player APIの読み込み
      var tag = document.createElement('script');
      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
      // プレイヤーを埋め込む場所(IDを指定)
      var ytArea = 'video-background';
      // 埋め込むYouTube動画のID
      var ytID = 'EPgT-4wYAsg'; // https://youtu.be/〇〇〇の〇〇〇
      // プレイヤーの埋め込み
      function onYouTubeIframeAPIReady() {
        ytPlayer = new YT.Player(ytArea, {
          videoId: ytID,
          playerVars: {
            rel: 0, // 関連動画の非表示
            controls: 0, // プレイヤーコントロールの非表示
            showinfo: 0, // タイトルなどの非表示
            modestbranding: 1, // YouTubeロゴの非表示
            iv_load_policy: 3, // アノテーションの非表示
            wmode: 'transparent'
          },
          events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange
          }
        });
      }
      // 動画の準備完了後の動作
      function onPlayerReady(e) {
        ytPlayer.playVideo();
        ytPlayer.mute();
        ytPlayer.setPlaybackQuality('default'); // 画質(small・medium・large・hd720・hd1080・highres・default)
      }
      // 動画再生中と再生後の動作
      function onPlayerStateChange(e) {
        var ytStatus = e.target.getPlayerState();
        if (ytStatus == YT.PlayerState.PLAYING) { //再生中
      }
      if (ytStatus == YT.PlayerState.ENDED) { //再生後
          ytPlayer.playVideo();
          ytPlayer.mute();
        }
      }
      // 上下左右に出てくる黒帯を非表示
      var WIN = $(window);
      var WIN_H
      var win_W
      function yt_screen_retio(){
        WIN_H = WIN.height();
        WIN_W = WIN.width();
        var screen_switch = 0.5625;
        var screen_ratio = WIN_H / WIN_W;
        var ratio_H = WIN_H / screen_switch;
        var ratio_W = WIN_W * screen_switch;
        if(screen_ratio > screen_switch){
          $('#video-background').css({
            'height':'100%',
            'width':ratio_H,
            'margin-top':'0',
            'margin-left': -ratio_H /2,
            'left':'50%',
            'top':'0'
          });
          } else {
            $('#video-background').css({
            'width':'100%',
            'height':ratio_W,
            'margin-top': -ratio_W / 2,
            'margin-left':'0',
            'top':'50%',
            'left':'0'
          });
        }
      }
      WIN.resize(function () {
        yt_screen_retio();
      });
      $(function(){
        yt_screen_retio();
      });
    </script>
  </body>
</html>
